{"version":3,"sources":["main.js"],"names":["menuModal","document","querySelector","modal","focusableElements","Array","from","querySelectorAll","firstFocusableElement","lastFocusableElement","length","console","log","addEventListener","e","isTabPressed","key","keyCode","shiftKey","activeElement","focus","preventDefault","classList","toggle","body","tabbed","tablist","tabs","panels","switchTab","oldTab","newTab","removeAttribute","setAttribute","index","prototype","indexOf","call","oldIndex","hidden","forEach","tab","i","parentNode","currentTab","currentTarget","dir","which","panel","id","getAttribute"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["(function () {\r\n  // toggle menu modal open\r\n  const menuModal = document.querySelector(\".toggle--btn\")\r\n  const modal = document.querySelector(\".main__nav__list\")\r\n  //tab trapping elements \r\n  const focusableElements = Array.from(document.querySelectorAll(\".planet--btn\"))\r\n  const firstFocusableElement = focusableElements[0]//first focusable element\r\n  const lastFocusableElement = focusableElements[focusableElements.length - 1]// last focused element\r\n  console.log(firstFocusableElement)\r\n  console.log(lastFocusableElement)\r\n\r\n  //tab trapping method and call\r\n  document.addEventListener('keydown', function(e) {\r\n    let isTabPressed = e.key === 'Tab' || e.keyCode === 9;\r\n  \r\n    if (!isTabPressed) {\r\n      return;\r\n    }\r\n  \r\n    if (e.shiftKey) { // if shift key pressed for shift + tab combination\r\n      if (document.activeElement === firstFocusableElement) {\r\n        lastFocusableElement.focus(); // add focus for the last focusable element\r\n        e.preventDefault();\r\n      }\r\n    } else { // if tab key is pressed\r\n      if (document.activeElement === lastFocusableElement) { // if focused has reached to last focusable element then focus first focusable element after pressing tab\r\n        firstFocusableElement.focus(); // add focus for the first focusable element\r\n        e.preventDefault();\r\n      }\r\n    }\r\n  });\r\n  \r\n  firstFocusableElement.focus();\r\n//end of tab trapping\r\n\r\n  console.log(menuModal)\r\n\r\n  menuModal.addEventListener(\"click\", () => {\r\n    console.log(\"button clicked\")\r\n    modal.classList.toggle(\"modal__hide\")\r\n    document.body.classList.toggle(\"modal__scroll\")\r\n  })\r\n  // Get relevant elements and collections\r\n  const tabbed = document.querySelector('.tabbed');\r\n  const tablist = tabbed.querySelector('ul');\r\n  const tabs = tablist.querySelectorAll('a');\r\n  const panels = tabbed.querySelectorAll('[id^=\"section\"]');\r\n\r\n  // The tab switching function\r\n  const switchTab = (oldTab, newTab) => {\r\n    newTab.focus();\r\n    // Make the active tab focusable by the user (Tab key)\r\n    newTab.removeAttribute('tabindex');\r\n    // Set the selected state\r\n    newTab.setAttribute('aria-selected', 'true');\r\n    oldTab.removeAttribute('aria-selected');\r\n    oldTab.setAttribute('tabindex', '-1');\r\n    // Get the indices of the new and old tabs to find the correct\r\n    // tab panels to show and hide\r\n    let index = Array.prototype.indexOf.call(tabs, newTab);\r\n    let oldIndex = Array.prototype.indexOf.call(tabs, oldTab);\r\n    panels[oldIndex].hidden = true;\r\n    panels[index].hidden = false;\r\n  }\r\n\r\n  // Add the tablist role to the first <ul> in the .tabbed container\r\n  tablist.setAttribute('role', 'tablist');\r\n\r\n  // Add semantics are remove user focusability for each tab\r\n  Array.prototype.forEach.call(tabs, (tab, i) => {\r\n    tab.setAttribute('role', 'tab');\r\n    tab.setAttribute('id', 'tab' + (i + 1));\r\n    tab.setAttribute('tabindex', '-1');\r\n    tab.parentNode.setAttribute('role', 'presentation');\r\n\r\n    // Handle clicking of tabs for mouse users\r\n    tab.addEventListener('click', e => {\r\n      e.preventDefault();\r\n      let currentTab = tablist.querySelector('[aria-selected]');\r\n      if (e.currentTarget !== currentTab) {\r\n        switchTab(currentTab, e.currentTarget);\r\n      }\r\n    });\r\n\r\n    // Handle keydown events for keyboard users\r\n    tab.addEventListener('keydown', e => {\r\n      // Get the index of the current tab in the tabs node list\r\n      let index = Array.prototype.indexOf.call(tabs, e.currentTarget);\r\n      // Work out which key the user is pressing and\r\n      // Calculate the new tab's index where appropriate\r\n      let dir = e.which === 37 ? index - 1 : e.which === 39 ? index + 1 : e.which === 40 ? 'down' : null;\r\n      if (dir !== null) {\r\n        e.preventDefault();\r\n        // If the down key is pressed, move focus to the open panel,\r\n        // otherwise switch to the adjacent tab\r\n        dir === 'down' ? panels[i].focus() : tabs[dir] ? switchTab(e.currentTarget, tabs[dir]) : void 0;\r\n      }\r\n    });\r\n  });\r\n\r\n  // Add tab panel semantics and hide them all\r\n  Array.prototype.forEach.call(panels, (panel, i) => {\r\n    panel.setAttribute('role', 'tabpanel');\r\n    panel.setAttribute('tabindex', '-1');\r\n    let id = panel.getAttribute('id');\r\n    panel.setAttribute('aria-labelledby', tabs[i].id);\r\n    panel.hidden = true;\r\n  });\r\n\r\n  // Initially activate the first tab and reveal the first tab panel\r\n  tabs[0].removeAttribute('tabindex');\r\n  tabs[0].setAttribute('aria-selected', 'true');\r\n  panels[0].hidden = false;\r\n})();"]}